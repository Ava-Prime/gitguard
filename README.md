<div align="center">

# ğŸ›¡ï¸ GitGuard

**AI-Powered Repository Security & Compliance Platform**

*Intelligent code analysis, policy enforcement, and security automation for modern development workflows*

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Python 3.9+](https://img.shields.io/badge/python-3.9+-blue.svg)](https://www.python.org/downloads/)
[![Docker](https://img.shields.io/badge/docker-%230db7ed.svg?logo=docker&logoColor=white)](https://www.docker.com/)
[![Kubernetes](https://img.shields.io/badge/kubernetes-%23326ce5.svg?logo=kubernetes&logoColor=white)](https://kubernetes.io/)
[![Security](https://img.shields.io/badge/security-first-green.svg)](https://github.com/Ava-Prime/gitguard/security)

<!-- Repository Activity Badges -->
[![GitHub stars](https://img.shields.io/github/stars/Ava-Prime/gitguard?style=social)](https://github.com/Ava-Prime/gitguard/stargazers)
[![GitHub watchers](https://img.shields.io/github/watchers/Ava-Prime/gitguard?style=social)](https://github.com/Ava-Prime/gitguard/watchers)
[![GitHub forks](https://img.shields.io/github/forks/Ava-Prime/gitguard?style=social)](https://github.com/Ava-Prime/gitguard/network/members)

<!-- Release and Package Badges -->
[![GitHub release (latest SemVer)](https://img.shields.io/github/v/release/Ava-Prime/gitguard?sort=semver)](https://github.com/Ava-Prime/gitguard/releases/latest)
[![GitHub release date](https://img.shields.io/github/release-date/Ava-Prime/gitguard)](https://github.com/Ava-Prime/gitguard/releases)
[![Docker Image Size](https://img.shields.io/docker/image-size/gitguard/gitguard/latest)](https://hub.docker.com/r/gitguard/gitguard)
[![Docker Pulls](https://img.shields.io/docker/pulls/gitguard/gitguard)](https://hub.docker.com/r/gitguard/gitguard)
[![GitHub Container Registry](https://img.shields.io/badge/ghcr.io-gitguard-blue?logo=docker)](https://github.com/Ava-Prime/gitguard/pkgs/container/gitguard)

<!-- Build and Quality Badges -->
[![CI/CD](https://img.shields.io/github/actions/workflow/status/Ava-Prime/gitguard/ci.yml?branch=main&label=CI%2FCD)](https://github.com/Ava-Prime/gitguard/actions/workflows/ci.yml)
[![Release](https://img.shields.io/github/actions/workflow/status/Ava-Prime/gitguard/release.yml?label=Release)](https://github.com/Ava-Prime/gitguard/actions/workflows/release.yml)
[![codecov](https://codecov.io/gh/Ava-Prime/gitguard/branch/main/graph/badge.svg)](https://codecov.io/gh/Ava-Prime/gitguard)
[![Code Quality](https://img.shields.io/codefactor/grade/github/Ava-Prime/gitguard/main)](https://www.codefactor.io/repository/github/Ava-Prime/gitguard)

<!-- Observability and Security Badges -->
[![Pages](https://img.shields.io/github/actions/workflow/status/Ava-Prime/gitguard/docs.yml?label=Pages)](https://github.com/Ava-Prime/gitguard/actions/workflows/docs.yml)
[![GHCR](https://img.shields.io/badge/GHCR-Published-success?logo=docker)](https://github.com/Ava-Prime/gitguard/pkgs/container/gitguard)
[![SBOM](https://img.shields.io/badge/SBOM-Available-blue?logo=security)](https://github.com/Ava-Prime/gitguard/attestations)
[![Provenance](https://img.shields.io/badge/Provenance-Verified-green?logo=github)](https://github.com/Ava-Prime/gitguard/attestations)
[![Cosign](https://img.shields.io/badge/Cosign-Signed-purple?logo=sigstore)](https://github.com/Ava-Prime/gitguard/pkgs/container/gitguard)

---

## ğŸŒŸ **Experience GitGuard Instantly - No Setup Required!**

<table>
<tr>
<td align="center" width="33%">

### ğŸŒ **Live Demo**
[![Launch Demo](https://img.shields.io/badge/ğŸš€_Launch_Demo-Live_Interactive-success?style=for-the-badge)](https://ava-prime.github.io/gitguard/demo/)

*Try GitGuard in your browser*
*No installation needed*

</td>
<td align="center" width="33%">

### âš¡ **One-Click Deploy**
[![Deploy on Railway](https://img.shields.io/badge/ğŸš„_Railway-Deploy_Now-blueviolet?style=for-the-badge)](https://railway.app/template/gitguard)

*Production-ready in 60 seconds*
*Free tier available*

</td>
<td align="center" width="33%">

### ğŸ“¦ **Quick Install**
[![Download Binary](https://img.shields.io/badge/ğŸ“¥_Download-Binary_Release-orange?style=for-the-badge)](https://github.com/Ava-Prime/gitguard/releases/latest)

*Pre-built for Linux, Windows, macOS*
*Single executable, no dependencies*

</td>
</tr>
</table>

---

</div>

![GitGuard Hero](docs/images/hero-banner.svg)

![Feature Showcase](docs/images/feature-showcase.svg)

### Why GitGuard?

- **ğŸ›¡ï¸ Zero-Config Security**: Intelligent policies that adapt to your team's workflow
- **ğŸ§  Org-Brain Intelligence**: Dynamic ownership mapping and expertise routing
- **âš¡ Instant Deployment**: From zero to protected in under 60 seconds
- **ğŸ“Š Full Transparency**: Every decision explained with complete audit trails
- **ğŸ”„ Temporal Reliability**: Bulletproof workflow orchestration with automatic recovery

## ğŸ“¸ Live Examples

### Org-Brain Intelligence in Action
![Org-Brain Intelligence](docs/images/shipping-receipt-org-brain.svg)
*Real-time PR digest with relationship mapping and dynamic ownership*

### Interactive Documentation Portal
![Documentation Portal](docs/images/shipping-receipt-docs-portal.svg)
*Live policy explorer with GitHub Pages integration*

### Policy Transparency
![Policy Receipt Example](docs/images/policy-receipt-example.svg)
*Every decision shows complete reasoning and source code*

### Performance Monitoring
![Grafana Dashboard Example](docs/images/grafana-dashboard-example.svg)
*P99 latency tracking and merge rate analytics*

## ğŸš€ Try GitGuard Instantly

### ğŸŒ Live Demo - No Installation Required!

**ğŸ‘‰ [Launch Interactive Demo](https://ava-prime.github.io/gitguard/demo/)** - Experience GitGuard in your browser right now!

### âš¡ One-Click Deployment

#### Cloud Platforms
[![Deploy on Railway](https://railway.app/button.svg)](https://railway.app/template/gitguard)
[![Deploy to Render](https://render.com/images/deploy-to-render-button.svg)](https://render.com/deploy?repo=https://github.com/Ava-Prime/gitguard)

#### Local Quick Start
```bash
# Linux/macOS - One command deployment
curl -fsSL https://raw.githubusercontent.com/Ava-Prime/gitguard/main/scripts/quick-deploy.sh | bash

# Windows PowerShell
iwr -useb https://raw.githubusercontent.com/Ava-Prime/gitguard/main/scripts/quick-deploy.ps1 | iex

# Docker Compose
git clone https://github.com/Ava-Prime/gitguard.git
cd gitguard && docker-compose up -d
```

### ğŸ“¦ Binary Installation

Download pre-built binaries from our [releases page](https://github.com/Ava-Prime/gitguard/releases):

```bash
# Linux
wget https://github.com/Ava-Prime/gitguard/releases/latest/download/gitguard-linux
chmod +x gitguard-linux && ./gitguard-linux serve --demo

# Windows
# Download gitguard-windows.exe and run: gitguard-windows.exe serve --demo

# macOS
wget https://github.com/Ava-Prime/gitguard/releases/latest/download/gitguard-darwin
chmod +x gitguard-darwin && ./gitguard-darwin serve --demo
```

### ğŸ¯ GitHub App (60 seconds to protection)

1. **Install**: Click â†’ [![Install GitGuard](https://img.shields.io/badge/Install-GitHub%20App-success?logo=github)](https://github.com/apps/gitguard)
2. **Configure**: Select repositories â†’ Done! ğŸ‰

```bash
# Verify installation
curl https://api.github.com/repos/YOUR-ORG/YOUR-REPO/hooks
# âœ… GitGuard webhook active
```

### ğŸ› ï¸ Local Development

```bash
# Start GitGuard locally
docker-compose up -d

# ğŸ­ Demo: Create a test PR and watch the magic
gh pr create --title "feat: add new feature" --body "Testing GitGuard policies"

# ğŸ” Watch GitGuard evaluate in real-time
curl http://localhost:8080/api/v1/policies/evaluate | jq '.decision.reasoning'

# ğŸ“Š View live dashboard
open http://localhost:3000  # Grafana: P99 latency, merge rates, policy decisions
open http://localhost:8080  # GitGuard: Policy explorer, org-brain insights
```

## âœ¨ Features

### ğŸŒŸ **Try Before You Install**
- **[Live Interactive Demo](https://ava-prime.github.io/gitguard/demo/)**: Experience GitGuard instantly in your browser âœ… **Available Now**
  - ğŸ“Š [Demo Health Status](https://ava-prime.github.io/gitguard/demo/health) - Verify demo availability
  - ğŸ¯ [Sample Policy Decisions](https://ava-prime.github.io/gitguard/demo/examples) - See real evaluations
- **One-Click Deployment**: Deploy to Railway, Render, or Fly.io in seconds âœ… **Available Now**
- **Quick Start Scripts**: Single command setup for Linux, macOS, and Windows âœ… **Available Now**
- **Pre-built Binaries**: Download and run immediately, no dependencies âœ… **Available Now**

### ğŸ”’ **Security & Compliance**
- **Secret Detection**: Multi-layered scanning with entropy analysis âœ… **Available Now**
- **Vulnerability Assessment**: Real-time CVE matching and CVSS scoring âœ… **Available Now**
- **License Compliance**: Automated license compatibility checking âœ… **Available Now**
- **Supply Chain Security**: Dependency graph analysis and risk assessment âœ… **Available Now**

### ğŸ¤– **AI-Powered Analysis**
- **Intelligent Code Review**: Context-aware security recommendations âœ… **Available Now**
- **Risk Scoring**: ML-based threat assessment and prioritization âœ… **Available Now** ([How it works](docs/risk-scoring.md))
- **False Positive Reduction**: Smart filtering with confidence scoring ğŸš§ **Preview/Roadmap**
- **Adaptive Learning**: Continuous improvement from feedback loops ğŸš§ **Preview/Roadmap**

### ğŸš€ **Developer Experience**
- **Zero Configuration**: Works out-of-the-box with sensible defaults âœ… **Available Now**
- **CLI Tools**: Comprehensive command-line interface for automation âœ… **Available Now**
- **API-First**: RESTful APIs for custom integrations âœ… **Available Now**
- **IDE Integration**: VS Code, IntelliJ, and Vim plugins ğŸš§ **Preview/Roadmap**

### ğŸ“Š **Observability & Analytics**
- **Real-time Dashboards**: Live security metrics and trends âœ… **Available Now** ([Grafana Dashboards](ops/grafana/dashboards/))
- **Custom Alerting**: Slack, Teams, PagerDuty integrations âœ… **Available Now**
- **Audit Trails**: Comprehensive logging for compliance âœ… **Available Now**
- **Performance Metrics**: P99 latency tracking and merge rate analytics âœ… **Available Now**

### ğŸ” **Service Architecture**
- **guard-api**: Main webhook processor and policy engine âœ… **Available Now** ([Source](apps/guard-api/))
- **guard-codex**: Knowledge graph and documentation engine âœ… **Available Now** ([Source](apps/guard-codex/))
- **Org-Brain Intelligence**: Dynamic ownership mapping and policy transparency âœ… **Available Now** ([Tests](tests/test_knowledge_graph.py))
- **OPA Integration**: Policy-as-code with full transparency âœ… **Available Now** ([Policies](policies/))

## ğŸ’¡ The GitGuard Advantage

| Traditional Approach | GitGuard Approach |
|---------------------|-------------------|
| âŒ Manual code reviews | âœ… AI-powered policy automation |
| âŒ Static CODEOWNERS files | âœ… Dynamic org-brain intelligence |
| âŒ Opaque approval processes | âœ… Full transparency with receipts |
| âŒ Reactive incident response | âœ… Proactive risk prevention |
| âŒ Complex setup and maintenance | âœ… Zero-config deployment |

### ğŸ¯ Perfect For

- **ğŸ¢ Enterprise Teams**: Scaling code review processes across multiple repositories
- **ğŸš€ Fast-Moving Startups**: Maintaining quality while shipping quickly
- **ğŸ”’ Security-First Orgs**: Enforcing compliance without slowing development
- **ğŸ“ˆ Growing Teams**: Onboarding new developers with intelligent guidance

### What you'll see

âœ… **Auto-merge for low-risk PRs** - Safe changes merge automatically
ğŸš« **Policy transparency with source code** - See exact OPA rules and inputs that made decisions
ğŸ“Š **Visual relationship graphs** - Mermaid diagrams show file touches and governance connections
ğŸ‘¥ **Always-current ownership index** - Dynamic owners list from live graph data
ğŸ“š **Docs portal updating in real-time** - Live documentation with policy explanations
ğŸ”¥ **Chaos engineering drills** - Automated failure testing validates alert systems
ğŸ“ˆ **SLO monitoring with P99 alerts** - Performance tracking ensures system health

### Demo Commands

```bash
make demo-quick     # 2-min flow: low-risk + security scenarios
make demo-investor  # 5-min flow: low-risk + release-window + dashboard
make demo-customer  # 10-min flow: comprehensive governance demo
```

### What happens on merge?

1. **ğŸ¯ Risk Assessment** - AI analyzes code complexity, test coverage, and security impact
2. **ğŸšª Policy Gate** - OPA enforces governance rules with full transparency (see exact rules & inputs)
3. **ğŸ“Š Visual Mapping** - Mermaid graphs show file relationships and governance connections (â‰¤20 nodes)
4. **ğŸ‘¥ Ownership Tracking** - Dynamic owners index updates from graph data
5. **ğŸ“– Documentation** - Codex generates human-readable PR digest with policy explanations
6. **ğŸ” Monitoring** - SLO alerts track freshness P99 and system health

## ğŸ“š Comprehensive Documentation

ğŸŒŸ **[Live Documentation Portal](https://ava-prime.github.io/gitguard)** - Interactive guides with live examples

### ğŸ“– Core Guides
- **[ğŸš€ Getting Started Guide](GETTING_STARTED.md)** - Zero to protected in 60 seconds
- **[ğŸ“‹ Policy Guide](docs/policies.md)** - Master OPA/Rego with real examples
- **[ğŸ”Œ API Reference](http://localhost:8000/docs)** - Complete REST API and webhook docs
- **[ğŸ’¡ Examples](docs/examples.md)** - Production-ready policy configurations

### ğŸ”§ Advanced Topics
- **[ğŸ—ï¸ Architecture Overview](ARCHITECTURE.md)** - Deep dive into system design and data flows
- **[ğŸ‘©â€ğŸ’» Developer Guide](DEVELOPER_GUIDE.md)** - Local setup and development
- **[ğŸ› Operations Runbook](RUNBOOK.md)** - Troubleshooting and done-done validation checklist
- **[ğŸ¤ Contributing Guidelines](CONTRIBUTING.md)** - Join the community

### ğŸ¯ Specialized Resources
- [ğŸ”— GitHub Integration](docs/GITHUB_INTEGRATION.md) - PR comments with instant Codex preview links
- [ğŸ“Š Prometheus Alerts](docs/PROMETHEUS_ALERTS.md) - Monitoring and SLO configuration
- [ğŸ” Secrets Hygiene](docs/SECRETS_HYGIENE.md) - Automated secrets redaction and scanning
- [ğŸŒªï¸ Chaos Engineering](tests/CHAOS_ENGINEERING.md) - Failure testing and resilience validation
- [ğŸ“š Local Documentation](http://localhost:8001) - Policies and PR digests (when running locally)
- [ğŸ“Š Graph API](http://localhost:8000/graph/pr/{number}) - Read-only graph data endpoint

### ğŸš€ Quick Links
- [Policy Templates](docs/examples.md#policy-templates) - Copy-paste configurations
- [GitHub Actions Integration](docs/examples.md#github-actions) - CI/CD workflows
- [Org-Brain Setup](GETTING_STARTED.md#org-brain) - Dynamic ownership
- [Monitoring Setup](GETTING_STARTED.md#monitoring) - Grafana dashboards

### ğŸ”Œ MCP Sidecar Integration (Optional Developer Enhancement)

GitGuard includes an optional MCP (Model Context Protocol) sidecar for enhanced developer experience with Claude Desktop integration.

**Features:**
- **Policy Explanation**: Get detailed explanations of Rego rules and policy decisions
- **Interactive Policy Exploration**: Query policy logic directly from Claude Desktop
- **Seamless Integration**: Works alongside existing GitGuard workflows

**Quick Setup:**

1. **Configure Claude Desktop**:
   ```bash
   # Copy the provided configuration
   cp claude_desktop_config.json ~/.config/claude_desktop/config.json
   ```

2. **Install MCP Server Dependencies**:
   ```bash
   pip install -r mcp/requirements.txt
   ```

3. **Set Environment Variables**:
   ```bash
   export GITGUARD_REPO_PATH="/path/to/your/repo"
   export GITGUARD_POLICIES_DIR="/path/to/gitguard/policies"
   export GITGUARD_API_BASE_URL="http://localhost:8000"
   ```

4. **Test Integration**:
   ```bash
   # Verify MCP server is working
   python -m mcp.servers.gitguard_policy
   ```

**Available MCP Functions:**
- `get_rego_rule(rule_name)` - Retrieve specific OPA policy rules with explanations
- `render_policy_block(pr_number)` - Visualize policy evaluation results for a PR

**Usage in Claude Desktop:**
- Ask: "Explain the critical-files policy rule"
- Ask: "Show me why PR #123 was blocked"
- Ask: "What are the current release window policies?"

**Note**: The MCP sidecar is an additive feature that enhances the developer experience without affecting GitGuard's core functionality. GitGuard remains the authoritative system for all policy decisions and repository governance.

## Architecture

GitGuard consists of several components working together:

- **guard-api**: Receives GitHub webhooks, normalizes events, forwards to Codex
- **codex**: Writes PR digests to `docs_src/`, triggers MkDocs build
- **OPA**: Policy decisions for merge/tag (release windows, infra reviews, deps)
- **Temporal/NATS**: Workflow orchestration and event streaming
- **Prometheus/Grafana**: Observability - scrapes services, shows merge rates, block reasons, revert rate
- **CI**: Lint, tests, SBOM; sets `checks` signals for OPA input

**Flow**: PR â†’ CI artifacts â†’ risk compute â†’ OPA gate â†’ (merge|block) â†’ Codex doc â†’ dashboards

See [ARCHITECTURE.md](ARCHITECTURE.md) for detailed system design and data flows.

## Contributing

- **Branch from `main`**, name `feat|fix|chore/<scope>-<slug>`
- **Conventional Commits**; squash merge only
- **Run locally**: `make setup && make up`
- **Tests**: `pytest -q` (aim for coverage deltas â‰¥ -0.2%)
- **Policy changes** require a docs page under `docs_src/policies/`

See [CONTRIBUTING.md](CONTRIBUTING.md) for detailed guidelines and [DEVELOPER_GUIDE.md](DEVELOPER_GUIDE.md) for setup instructions.

## Support

- ğŸ’¬ [Discord Community](https://discord.gg/gitguard)
- ğŸ“§ [Enterprise Support](mailto:enterprise@gitguard.io)
- ğŸ› [GitHub Issues](https://github.com/Ava-Prime/gitguard/issues)

## License

MIT License - see [LICENSE](LICENSE) for details.

---

**GitGuard** - Your repositories, under guard. ğŸ›¡ï¸
